[{"name":"app.R","content":"library(tidyverse)\nlibrary(shiny)\n\n# Load data\ntxt_furl = \"https://www.dropbox.com/scl/fi/1sdttdmk29fxjduw1pe3x/fcc_starrmpracrispr_vote2.umap.chipseq_score.tsv?rlkey=jskwb0hxuvxwdo5evd6qjjvnm&raw=1\"\ndat_region_umap = read_tsv(txt_furl)\n\n# Get feature names\nvec_txt_feature = setdiff(colnames(dat_region_umap), c(\"UMAP1\", \"UMAP2\", \"Region\", \"Chrom\", \"ChromStart\", \"ChromEnd\"))\n\n# UI\nui = fluidPage(\n    titlePanel(\"UMAP Embedding of CREs based on ChIP-seq Signals\"),\n    sidebarLayout(\n        sidebarPanel(\n            selectInput(\"txt_feature\", \"ChIP-seq Factor\", choices = vec_txt_feature, selected = \"H3K4me3\")\n        ),\n        mainPanel(\n            plotOutput(\"plot_fcc_umap\")\n        )\n    )\n)\n\n# Server\nserver = function(input, output) {\n    output$plot_fcc_umap <- renderPlot({\n        ggplot(dat_region_umap, aes_string(x = \"UMAP1\", y = \"UMAP2\", color = input$txt_feature)) +\n            geom_point(alpha = 0.5) +\n            theme_minimal()\n    })\n}\n\nshinyApp(ui, server)","type":"text"}]
